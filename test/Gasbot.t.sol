// // SPDX-License-Identifier: MIT
// pragma solidity ^0.8.0;

// import "../src/Gasbot.sol";
// import "ds-test/test.sol";
// import "forge-std/Script.sol";

// // import "openzeppelin-contracts/contracts/token/ERC20/ERC20.sol";

// contract Gasbot is DSTest, Script {
//     GasBot g;
//     IERC20 usdc = IERC20(0x8BF591Eae535f93a242D5A954d3Cde648b48A5A8);
//     address relayer = 0x757EEB3E60d0D3f9a8a34A8540AB6c88eB058e49;

//     function setUp() external {
//         string memory rpc = "https://rpc.meter.io";
//         uint256 forkId = vm.createFork(rpc);
//         vm.selectFork(forkId);

//         g = GasBot(payable(0xC8631aFa53C927f5480c0d5dbe9E3fc751963207));
//         // g = new GasBot(relayer, relayer);
//         console.log("Gasbot address: %s", address(g));
//     }

//     // ============================
//     // Test Implementation Update
//     // ============================
//     function test_getTokenBalances() external {
//         address[] memory tokens = new address[](1);
//         tokens[0] = address(usdc);
//         g.getTokenBalances(relayer, tokens);
//     }

//     // function test_relayAndTransfer() external {
//     //     //         function relayAndTransfer(
//     //     //         address _sender,
//     //     //         address _token,
//     //     //         uint256 _amount,
//     //     //         bytes calldata _permitData,
//     //     //         address _target,
//     //     //         bytes calldata _data,
//     //     //         uint256 _sendAmount,
//     //     //         address _weth
//     //     //     )

//     //     // ['0xe2b8e07b913af9ED2b13808e48F2303964276651', '0xdAC17F958D2ee523a2206206994597C13D831ec7', 100000, '0x70a08231000000000000000000000000e2b8e07b913af9ed2b13808e48f2303964276651', '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45', '0x04e45aaf000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000001f400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf000000000000000000000000000000000000000000000000000000000000c35000000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000000', 100, '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'
//     //     //

//     //     vm.startPrank(relayer);
//     //     g.relayAndTransfer(
//     //         0xe2b8e07b913af9ED2b13808e48F2303964276651,
//     //         0xdAC17F958D2ee523a2206206994597C13D831ec7,
//     //         1000000,
//     //         hex"70a08231000000000000000000000000e2b8e07b913af9ed2b13808e48f2303964276651",
//     //         0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45,
//     //         hex"04e45aaf000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000001f400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf000000000000000000000000000000000000000000000000000000000007a12000000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000000",
//     //         1,
//     //         0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
//     //     );
//     //     vm.stopPrank();
//     //     // assert(address(0xe2b8e07b913af9ED2b13808e48F2303964276651).balance > 0);
//     //     // assertEq(address(g).balance, 0);
//     // }

//     // function test_relayTokenIn() external {
//     //     //     function relayTokenIn(
//     //     //     address _sender,
//     //     //     address _token,
//     //     //     uint256 _amount,
//     //     //     bytes calldata _permitData,
//     //     //     address _target,
//     //     //     bytes calldata _data
//     //     // ) external onlyRelayer {

//     //     // '0xf466385C089e1772893947BA01f81264946D57D8', '0xd9aAEc86B65D86f6A7B5B1b0c42FFA531710b6CA', 4000000, '0xd505accf000000000000000000000000f466385c089e1772893947ba01f81264946d57d800000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf00000000000000000000000000000000000000000000000000000000003d09000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', '0x2626664c2603336E57B271c5C0b26F421741e481', '0x04e45aaf000000000000000000000000d9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda02913000000000000000000000000000000000000000000000000000000000000006400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf00000000000000000000000000000000000000000000000000000000003d090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'

//     //     vm.startPrank(relayer);
//     //     g.relayTokenIn(
//     //         0xf466385C089e1772893947BA01f81264946D57D8,
//     //         0xd9aAEc86B65D86f6A7B5B1b0c42FFA531710b6CA,
//     //         4000000,
//     //         hex"d505accf000000000000000000000000f466385c089e1772893947ba01f81264946d57d800000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf00000000000000000000000000000000000000000000000000000000003d09000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
//     //         0x2626664c2603336E57B271c5C0b26F421741e481,
//     //         hex"04e45aaf000000000000000000000000d9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda02913000000000000000000000000000000000000000000000000000000000000006400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf00000000000000000000000000000000000000000000000000000000003d090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
//     //     );
//     //     vm.stopPrank();
//     //     assert(address(0xe2b8e07b913af9ED2b13808e48F2303964276651).balance > 0);
//     //     assertEq(address(g).balance, 0);
//     // }

//     // function test_transferGasOut() external {
//     //     // function transferGasOut(
//     //     //     address _swapToken,
//     //     //     uint256 _swapAmount,
//     //     //     address _recipient,
//     //     //     address _target,
//     //     //     bytes calldata _data,
//     //     //     uint256 _sendAmount,
//     //     //     address _weth,
//     //     //     uint256 outbound_id
//     //     // ) external

//     //     // ['0x919C1c267BC06a7039e03fcc2eF738525769109c', 540000, '0x886241e011A6C148bdD96B097EB27962f8A1c5F0', '0xc8f22018D3c5f5A4101fB1448d5E5CcdDA4f123e', '0x04e45aaf000000000000000000000000919c1c267bc06a7039e03fcc2ef738525769109c000000000000000000000000c86c7c0efbd6a49b35e8714c5f59d99de09a225b00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf0000000000000000000000000000000000000000000000000000000000083d6000000000000000000000000000000000000000000000000009772f69cb5f20000000000000000000000000000000000000000000000000000000000000000000', 682066000000000000, '0xc86c7C0eFbd6A49B35E8714C5f59D99De09A225b', 90]

//     //     vm.startPrank(relayer);
//     //     g.transferGasOut(
//     //         0x919C1c267BC06a7039e03fcc2eF738525769109c,
//     //         540000,
//     //         0x886241e011A6C148bdD96B097EB27962f8A1c5F0,
//     //         0xc8f22018D3c5f5A4101fB1448d5E5CcdDA4f123e,
//     //         hex"04e45aaf000000000000000000000000919c1c267bc06a7039e03fcc2ef738525769109c000000000000000000000000c86c7c0efbd6a49b35e8714c5f59d99de09a225b00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000059af55fe00ccc0f0c248510fcc774fdc4919bbbf0000000000000000000000000000000000000000000000000000000000083d6000000000000000000000000000000000000000000000000009772f69cb5f20000000000000000000000000000000000000000000000000000000000000000000",
//     //         682066000000000000,
//     //         0xc86c7C0eFbd6A49B35E8714C5f59D99De09A225b,
//     //         90
//     //     );
//     //     vm.stopPrank();
//     //     assert(address(0xe2b8e07b913af9ED2b13808e48F2303964276651).balance > 0);
//     //     assertEq(address(g).balance, 0);
//     // }
// }
